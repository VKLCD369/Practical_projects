name: CI_CD Pipeline

on:
  Push:
    branch:
      -main

jobs:
  build-test-deploy:
    runs-on: unbuntu-latest

  steps:
    -name: Checkout code
    uses: actions/Checkout@v4

    -name: Set up Python
    uses: actions/setup-python@v5
    with:
      python-version: '3.10'

    -name: Install dependencies
    run: |
      pip install -r requirements.txt

    -name: Run tests
    run: |
      pytest

    -name: Deploy to test environment
    run: |
      echo "Deploying application..."
      mkdir -p /tmp/test-deploy
      cp app.py /tmp/test-deploy/
